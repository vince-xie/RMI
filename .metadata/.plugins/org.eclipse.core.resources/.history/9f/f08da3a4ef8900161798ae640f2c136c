package server;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;

import PlaceData.PlaceDataProto.Place;
import PlaceData.PlaceDataProto.PlaceList;

public class PlaceServer {

	/**
	 * Retrieves place list from file.
	 * @param filename
	 * @throws IOException 
	 * @throws FileNotFoundException 
	 */
	private static PlaceList getPlaceListFromFile(String filename) throws FileNotFoundException, IOException {
		return PlaceList.parseFrom(new FileInputStream(filename));
	}

    public static void main(String[] args) {
    	PlaceList placeList;
    	try {
    	    placeList = getPlaceListFromFile("places-proto.bin");
    	} catch(Exception e) {
    		System.out.println("Error parsing place list.");
    		return;
    	}
	    for (Place p : placeList.getPlaceList()) {
			System.out.println("state: " + p.getState() + " " + "place: " + p.getName() + " " + "lat: " + p.getLat()
					+ " " + "lon: " + p.getLon());
			if(p.getState().equals("AK")) {
				return;
			}
		}
	}
}
